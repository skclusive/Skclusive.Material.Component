@using Skclusive.Material.Transition
@using Skclusive.Material.Typography
@namespace Skclusive.Material.Tooltip
@inherits MaterialComponent

<Component Tag="@(ContainerTag ?? "div")"
           OnTouchStart="HandleTouchStartInternal"
           OnTouchEnd="HandleTouchEndInternal"
           OnMouseEnter="HandleMouseEnterInternal"
           OnMouseLeave="HandleMouseLeaveInternal"
           OnFocus="HandleFocusInternal"
           OnBlur="HandleBlurInternal"
           RootRef="@_popperAnchor"
           Class="@ContainerClass"
           Style="@(ContainerStyle ?? "display: inline-block")">

    @ChildContent
</Component>

<Popper AnchorRef="@_popperAnchor"
        Placement="@Placement"
        Open="@Open"
        PopperOptions="@PopperOptions"
        @attributes="Attributes"
        Transition
        Class="@PopperClasses()"
        Context="PopperContext">
    <Grow RootRef="@PopperContext.RefBack"
          Appear
          In="@PopperContext.Open"
          TransitionDuration="@TransitionDuration"
          AppearTimeout="@AppearTimeout"
          EnterTimeout="@EnterTimeout"
          ExitTimeout="@ExitTimeout"
          MountOnEnter="@MountOnEnter"
          UnmountOnExit="@UnmountOnExit"
          OnEnter="@(CreateOnEnter(@PopperContext.OnEnter))"
          OnExited="@(CreateOnExited(@PopperContext.OnExited))"
          OnEntering="@HandleEntering"
          OnEntered="@HandleEntered"
          OnExit="@HandleExit"
          OnExiting="@HandleExiting"
          role="none presentation"
          Context="GrowContext">
        <div>
            @if (TitleComponent == null)
            {
                <Typography Variant="@TypographyVariant.Subtitle2">@Title</Typography>
            }
            else
            {
                @TitleComponent
            }
            @if (Arrow)
            {
                <span id="arrow" class="@ArrowClasses()" data-popper-arrow></span>
            }
        </div>
    </Grow>
</Popper>
